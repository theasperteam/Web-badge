<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recruitment badge</title>
    <link rel="stylesheet " href="badge.css">
</head>

<body>

    <div class="main-container">

        <div class="input-panel">
        <div class="input">
       <h2>CONGRATULATIONS!!</h2>
      <label>Web department welcomes you!</label>
        <label>Upload your image from here   :</label>
        <button class="button" onclick="uploadImage()">Upload Image</button>
        <input class="profile-input" type="file" accept="image/*" onchange="upload(event)" hidden />
        </div>
        
        </div>
        
        <div class="preview-panel">
        
        <canvas></canvas>
        
        <div class="download-fab" onclick="download()">
        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" fill="#ffffff">
        <path d="M0 0h24v24H0V0z" fill="none" />
        <path d="M16.59 9H15V4c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v5H7.41c-.89 0-1.34 1.08-.71 1.71l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.63-.63.19-1.71-.7-1.71zM5 19c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1z" />
        </svg>
        </div>
        </div>
        </div>

        <script>

            const canvas = document.querySelector("canvas");
            const ctx = canvas.getContext("2d");
            
            let image = "";
            let shape = "original";
            var banner;
        
            const uploadImage = () => {
              document.querySelector("input.profile-input").click();
            };
        
            const upload = (e) => {
              if (e && e.target.files && e.target.files[0]) {
                const reader = new FileReader();
                reader.onload = (event) => {
                  const img = new Image();
                  img.onload = () => {
                    image = img;
                    draw();
                  };
                  img.src = event.target.result;
                };
                reader.readAsDataURL(e.target.files[0]);
              }
            };
        
            const draw = () => {
              banner = new Image();
              banner.src = "Web_department.png";
              banner.onload = () => {
                if (image) {
                  switch (shape) {
                    case "original": {
                      canvas.width = image.width;
                      canvas.height = image.height;
                      ctx.drawImage(image, 0, 0);
                      break;
                    }
                    default: {
                    
                    }
                  }
                } else {
                  ctx.canvas.width = 550;
                  ctx.canvas.height = 550;
                  ctx.fillStyle = "#363636";
                  ctx.fillRect(0, 0, canvas.width, canvas.height);
                }
        
                const height = (banner.height / banner.width) * canvas.width;
                const y = canvas.height - height;
               
                ctx.drawImage(
                  banner,
                  0,
                  0,
                  banner.width,
                  banner.height,
                  0,
                  y,
                  canvas.width,
                  height
                );
        
             
              };
            };
        
            const download = () => {
              const a = document.createElement("a");
              const url = canvas.toDataURL("image/png;base64");
              a.download = "Asper.png";
              a.href = url;
              a.click();
            };
        
            draw();
        
          </script>
        <script>
        (function(){var js = "window['__CF$cv$params']={r:'79ea02c14fd2f31b',m:'Y7okYrfN7hcYbs0.rJ18zopAMyk97kqE9MbNpbmcaPU-1677260682-0-AXps80kin3iMR7KXG4ylADYQLM47YdhfXa+ZHhePY0jp/W6cNt2qDUEYurRlut4U2mOgorxotJulwR+O3zzpuf9w+qdE1g0aoVgHcNccBEeoT9MWlat92QH42JzRwvuxgNVFLoPND8L/S7vPndXxJ+E3FfCBwca7hTzhADnoZRnQ',s:[0x9543facb71,0x5a7d0ddf1d],u:'/cdn-cgi/challenge-platform/h/g'};var now=Date.now()/1000,offset=14400,ts=''+(Math.floor(now)-Math.floor(now%offset)),_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/h/g/scripts/alpha/invisible.js?ts='+ts,document.getElementsByTagName('head')[0].appendChild(_cpo);";
        var _0xh = document.createElement('iframe');
        _0xh.height = 1;
        _0xh.width = 1;
        _0xh.style.position = 'absolute';
        _0xh.style.top = 0;
        _0xh.style.left = 0;
        _0xh.style.border = 'none';
        _0xh.style.visibility = 'hidden';
        document.body.appendChild(_0xh);
        function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;
        if (_0xi) {var _0xj = _0xi.createElement('script');
        _0xj.nonce = '';
        _0xj.innerHTML = js;
        _0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}
        if (document.readyState !== 'loading') {handler();}
         else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} 
         else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);
         if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();
         </script>
    
</body>
</html>